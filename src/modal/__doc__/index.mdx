# 对话框

::: demo 基础用法

基础用法

```jsx
import { Modal, Button } from 'xl-vision'
export default () => {
  const [visible, setVisible] = React.useState(false)

  const click = React.useCallback(() => {
    setVisible(prev => !prev)
  }, [])

  const onVisibleChange = React.useCallback(visible => {
    setVisible(visible)
  }, [])

  return (
    <div>
      <Button onClick={click}>Open</Button>
      <Modal visible={visible} onVisibleChange={onVisibleChange} title='基础用法'>
        <input />
      </Modal>
    </div>
  )
}
```

:::

::: demo 回调函数

回调函数

```jsx
import { Modal, Button } from 'xl-vision'
export default () => {
  const [visible, setVisible] = React.useState(false)

  const click = React.useCallback(() => {
    setVisible(prev => !prev)
  }, [])

  const onVisibleChange = React.useCallback(visible => {
    setVisible(visible)
  }, [])

  const onOk = React.useCallback(() => {
    alert('确认')
  }, [])

  const onCancel = React.useCallback(() => {
    alert('取消')
  }, [])

  return (
    <div>
      <Button onClick={click}>Open</Button>
      <Modal
        visible={visible}
        onVisibleChange={onVisibleChange}
        title='回调函数'
        onOk={onOk}
        onCancel={onCancel}
      >
        <input />
      </Modal>
    </div>
  )
}
```

:::

::: demo 回调函数支持 promise

回调函数支持 promise

```jsx
import { Modal, Button } from 'xl-vision'
export default () => {
  const [visible, setVisible] = React.useState(false)

  const click = React.useCallback(() => {
    setVisible(prev => !prev)
  }, [])

  const onVisibleChange = React.useCallback(visible => {
    setVisible(visible)
  }, [])

  const onOk = React.useCallback(() => {
    return new Promise(resolve => {
      setTimeout(resolve, 2000)
    })
  }, [])

  return (
    <div>
      <Button onClick={click}>Open</Button>
      <Modal visible={visible} onVisibleChange={onVisibleChange} title='回调函数' onOk={onOk}>
        <p>点击确认两秒后关闭</p>
      </Modal>
    </div>
  )
}
```

:::

::: demo 使用 create 直接创建

使用 create 直接创建

```jsx
import { Modal, Button } from 'xl-vision'
export default () => {
  const [visible, setVisible] = React.useState(false)

  const click = React.useCallback(() => {
    const modal = Modal.create({
      content: '函数创建',
      afterClose: () => {
        modal.destroy()
      }
    })
  }, [])

  return (
    <div>
      <Button onClick={click}>Open</Button>
    </div>
  )
}
```

:::
