@mixin arrowWithBorder($direction, $size, $bgColor, $borderSize, $borderColor) {
  $innerSize: $size - $borderSize * 2;

  &::before {
    top: 0;
    left: 0;
    border: $size / 2 solid transparent;
  }

  &::after {
    top: $borderSize;
    left: $borderSize;
    border: $innerSize / 2 solid transparent;
  }

  &::before,
  &::after {
    position: absolute;
    display: block;
    box-sizing: border-box;
    content: '';
    width: 0;
    height: 0;
  }

  @if ($direction == top) {
    &::before {
      border-bottom-color: $borderColor;
    }

    &::after {
      border-bottom-color: $bgColor;
    }
  } @else if ($direction == bottom) {
    &::before {
      border-top-color: $borderColor;
    }

    &::after {
      border-top-color: $bgColor;
    }
  } @else if ($direction == left) {
    &::before {
      border-right-color: $borderColor;
    }

    &::after {
      border-right-color: $bgColor;
    }
  } @else {
    &::before {
      border-left-color: $borderColor;
    }

    &::after {
      border-left-color: $bgColor;
    }
  }
}

@mixin arrowWithoutBorder($direction, $size, $bgColor) {
  &::before {
    position: absolute;
    top: 0;
    left: 0;
    display: block;
    box-sizing: border-box;
    content: '';
    width: 0;
    height: 0;
    border: $size / 2 solid transparent;
  }

  @if ($direction == top) {
    &::before {
      border-bottom-color: $bgColor;
    }
  } @else if ($direction == bottom) {
    &::before {
      border-top-color: $bgColor;
    }
  } @else if ($direction == left) {
    &::before {
      border-right-color: $bgColor;
    }
  } @else {
    &::before {
      border-left-color: $bgColor;
    }
  }
}

@mixin arrow($direction, $size, $bgColor, $borderSize: 0, $borderColor: $bgColor) {

  @if ($borderSize==0) {

    @include arrowWithoutBorder($direction, $size, $bgColor);
  } @else {

    @include arrowWithBorder($direction, $size, $bgColor, $borderSize, $borderColor);
  }
}
