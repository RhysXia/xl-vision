# CSSTransition

> 基于[Transition](/#/transition)实现的高级过渡动画组件，支持 Transition 组件的全部功能，同时提供了便捷使用 css 动画的方式。

> 相比**Transition**组件使用钩子函数时必须及时调用回调函数，本组件在不禁止 css 动画（`css=false`）的情况下，可以不进行调用。当然，如果你想在钩子完成时立即改变状态，最好还是手动调用。

:::demo 基础用法

基础用法

```jsx
import { CssTransition, Button } from 'xl-vision'
export default () => {
  const [active, setActive] = React.useState(true)

  return (
    <div>
      <Button
        onClick={() => {
          setActive(!active)
        }}
      >
        Click
      </Button>
      <CssTransition show={active} classNames={'demo-fade'} mountOnEnter unmountOnLeave>
        <div className='demo-box'>DEMO</div>
      </CssTransition>
      <style jsx>{`
        .demo-box {
          height: 10rem;
          color: #fff;
          font-size: 3rem;
          line-height: 10rem;
          text-align: center;
          vertical-align: middle;
          background-color: #007bff;
        }

        .demo-fade-enter-active,
        .demo-fade-leave-active,
        .demo-fade-appear-active {
          height: 10rem;
          opacity: 1;
          transition: opacity 2s ease, height 2s ease;
        }

        .demo-fade-leave-to,
        .demo-fade-appear,
        .demo-fade-enter {
          height: 0;
          opacity: 0;
        }
      `}</style>
    </div>
  )
}
```

:::

:::demo 自动调用动画

设置`isAppear`，并默认开启动画时，会自动进行一个初始进入动画。

```jsx
import { CssTransition, Button } from 'xl-vision'
export default () => {
  const [active, setActive] = React.useState(true)

  return (
    <div>
      <Button
        onClick={() => {
          setActive(!active)
        }}
      >
        Click
      </Button>
      <CssTransition isAppear show={active} classNames={'demo-fade'} mountOnEnter unmountOnLeave>
        <div className='demo-box'>DEMO</div>
      </CssTransition>
      <style jsx>{`
        .demo-box {
          height: 10rem;
          color: #fff;
          font-size: 3rem;
          line-height: 10rem;
          text-align: center;
          vertical-align: middle;
          background-color: #007bff;
        }

        .demo-fade-enter-active,
        .demo-fade-leave-active,
        .demo-fade-appear-active {
          height: 10rem;
          opacity: 1;
          transition: opacity 2s ease, height 2s ease;
        }

        .demo-fade-leave-to,
        .demo-fade-appear,
        .demo-fade-enter {
          height: 0;
          opacity: 0;
        }
      `}</style>
    </div>
  )
}
```

:::

## CssTransition API

> CssTransition 继承所有[Transition](/#/transition)属性

| 参数 | 说明 | 类型 | 可选值 | 默认值 | 是否必填 |
| --- | --- | --- | --- | --- | --- |
| classNames | 指定动画过程中的 class 名 | string/object | - | - | false |
| timeout | 指定动画需要的时间 | string/object | - | - | false |
| css | 指定是否启用 css 动画，如果想使用 js 进行动画控制，避免 css 动画的干扰，可以将此属性置为`false` | boolean | - | - | true |
